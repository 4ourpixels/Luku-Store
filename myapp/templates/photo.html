{% extends 'base.html' %} {% load static %} {% block body %}
<div id="top" class="container">
  <div class="row">
    <section class="py-4">
      <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
          <li class="breadcrumb-item "><a class="text-dark underline" href="{% url 'store' %}">Store</a></li>
          <li class="breadcrumb-item active" aria-current="page"><a class="text-muted underline" href="{% url 'gallery' %}?category={{ photo.category.name }}">{{ photo.category }}</a></li>
        </ol>
      </nav>
      <div class="container pt-1">
        <div class="row gx-5">
          <aside class="col-lg-6">
            <div class="border rounded-4 mb-3 d-flex justify-content-center">
              <a
                data-fslightbox="mygalley"
                class="rounded-4"
                target="_blank"
                data-type="image"
                href="{{ photo.image.url }}"
              >
                <img
                  style="
                    max-width: 100%;
                    max-height: 100vh;
                    margin: auto;
                    object-fit: cover;
                  "
                  class="rounded-4 fit"
                  src="{{ photo.image.url }}"
                  id="productImg"
                />
              </a>
            </div>
            {% if similar_products %}
            <div class="d-flex justify-content-center mb-3">
              {% for photo in similar_products %}
              <img
                style="object-fit: cover"
                width="60"
                height="60"
                class="rounded-2 small-img border mx-1 rounded-2"
                src="{{ photo.image.url }}"
              />
              {% endfor %}
            </div>
            {% endif %}
          </aside>

          <main class="col-lg-6">
            <div class="ps-lg-3">
              <h4 class="title text-dark">{{ photo.name }}</h4>
              <h2 class="title text-dark">â‚¬{{ photo.price }}</h4>

              <div class="my-3">
                <p class="text-muted small">{{ photo.description }}</p>
              </div>

              <div class="row">
                <dt class="col-3">Type:</dt>
                <dd class="col-9">{{ photo.type }}</dd>

                <dt class="col-3">Color</dt>
                <dd class="col-9">{{ photo.color }}</dd>

                <dt class="col-3">Brand</dt>
                <dd class="col-9">{{ photo.shop }}</dd>

                <dt class="col-3">Size</dt>
                <dd class="col-9">{{ photo.size }}</dd>
                
                <dt class="col-3">Rating</dt>
                <dd class="col-9">{{ photo.rating }}</dd>
                
              </div>

              <hr />
              <button
                data-product="{{ photo.pk }}"
                data-action="add"
                class="btn btn-dark update-cart"
              >
                <i class="me-1 fa fa-shopping-basket"></i> Add to cart
              </button>
              <a
                data-product="{{ photo.pk }}"
                data-action="add"
                class="btn btn-outline-dark update-cart"
                href=""
                >View Cart</a
              >
            </div>
          </main>
        </div>
      </div>
    </section>
  </div>
</div>

<script>
  var ProductImg = document.getElementById("productImg");
  var SmallImg = document.getElementsByClassName("small-img");

  SmallImg[0].onclick = function () {
    ProductImg.src = SmallImg[0].src;
  };
  SmallImg[1].onclick = function () {
    ProductImg.src = SmallImg[1].src;
  };
  SmallImg[2].onclick = function () {
    ProductImg.src = SmallImg[2].src;
  };
  SmallImg[3].onclick = function () {
    ProductImg.src = SmallImg[3].src;
  };
</script>
{% endblock %}
