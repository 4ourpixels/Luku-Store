{% extends 'base.html' %} {% load static %} {% block body %}

<div class="container my-5">
  <a class="btn btn-dark float-end mb-3" href="{% url 'checkout' %}"
    >Checkout</a
  >
  <nav style="--bs-breadcrumb-divider: '>'" aria-label="breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item">
        <a class="text-dark underline" href="{% url 'gallery' %}">Back</a>
      </li>
      <li class="breadcrumb-item active" aria-current="page">Cart</li>
    </ol>
  </nav>
  <table class="table align-middle mb-0 bg-white">
    <thead class="bg-light">
      <tr>
        <th>Product</th>
        <th>Price</th>
        <th>Actions</th>
        <th>Total</th>
      </tr>
    </thead>
    <tbody>
      {% for item in items %}
      <tr>
        <td>
          <div class="d-flex align-items-center">
            <img
              src="{{ item.photo.image }}"
              alt="{{ item.photo.name }}"
              style="
                width: 45px;
                height: 45px;
                border-radius: 8px;
                object-fit: cover;
              "
            />
            <div class="ms-3">
              <p class="fw-bold mb-1">{{ item.photo.name }}</p>
            </div>
          </div>
        </td>
        <td>
          <p class="fw-normal mb-1">€ {{ item.photo.price }}</p>
          <p class="text-muted mb-0">x {{ item.quantity }}</p>
        </td>
        <td>
          <button
            data-product="{{ item.photo.pk }}"
            data-action="remove"
            class="update-cart btn btn btn-danger"
          >
            <i class="fa-solid fa-minus update-cart"></i>
          </button>
          <button
            data-product="{{ item.photo.pk }}"
            data-action="add"
            class="update-cart btn btn-success"
          >
            <i class="fa-solid fa-plus"></i>
          </button>
        </td>
        <td>
          <p class="fw-normal mb-1">€{{ item.get_total }}</p>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

{% endblock %}
